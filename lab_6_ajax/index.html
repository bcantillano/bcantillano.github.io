<!DOCTYPE html>
<html lang="en">

<head>
  <title>Test AJAX page</title>
  <link rel="stylesheet" type="text/css" href="./lab_styles.css">
</head>

<body>
  <div class="container">
    <div class="wrapper">
      <div class="header">Test AJAX page</div>
      <button class="button" onclick="loadData()">Load Some JSON</button>
      <div class="content"></div>
      <div class="footer"></div>
    </div>
  </div>
  <script>

    const array = []

    function loadData() {

      fetch('ajax_sample.json')
        .then(res => res.json())
        .then(res => res.map(c => c.name))
        .then(codes => {

          rand15 = '<ol>';

          var guts = document.getElementsByClassName("content");
          guts[0].innerHTML = " "
          
          const array = codes.map(item => item)

          for (let i=0; i < 15; i++){
            index = getRandomIntInclusive(0,152)
            console.log(index);
            rand15 += "<li>" + array[index] + "</li>"; //+ '<br>'
          }
          //console.log(array)
          //return codes;

          rand15 += "</ol>"

          console.log(rand15);

          document.querySelector(".content").innerHTML = rand15;
        })
    }

    function getRandomIntInclusive(min, max) { //Credit: MDN
      min = Math.ceil(min);
      max = Math.floor(max);
      return Math.floor(Math.random() * (max - min + 1)) + min; //The maximum is inclusive and the minimum is inclusive 
    }

  </script>
</body>

</html>